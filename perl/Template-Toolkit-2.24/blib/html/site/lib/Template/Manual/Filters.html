<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../../displayToc.js"></script>
<script language="JavaScript" src="../../../../tocParas.js"></script>
<script language="JavaScript" src="../../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../scineplex.css">
<title>Template::Manual::Filters - Standard filters</title>
<link rel="stylesheet" href="../../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>


<!-- INDEX BEGIN -->
<div name="index">
<script>writelinks('__top__',4);</script>
<h1><a>Template::Manual::Filters - Standard filters</a></h1>
<p><a name="__index__"></a></p>


<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#format_format_">format(format)</a></li>
	<li><a href="#upper">upper</a></li>
	<li><a href="#lower">lower</a></li>
	<li><a href="#ucfirst">ucfirst</a></li>
	<li><a href="#lcfirst">lcfirst</a></li>
	<li><a href="#trim">trim</a></li>
	<li><a href="#collapse">collapse</a></li>
	<li><a href="#html">html</a></li>
	<li><a href="#html_entity">html_entity</a></li>
	<li><a href="#xml">xml</a></li>
	<li><a href="#html_para">html_para</a></li>
	<li><a href="#html_break___html_para_break">html_break / html_para_break</a></li>
	<li><a href="#html_line_break">html_line_break</a></li>
	<li><a href="#uri">uri</a></li>
	<li><a href="#url">url</a></li>
	<li><a href="#indent_pad_">indent(pad)</a></li>
	<li><a href="#truncate_length_dots_">truncate(length,dots)</a></li>
	<li><a href="#repeat_iterations_">repeat(iterations)</a></li>
	<li><a href="#remove_string_">remove(string)</a></li>
	<li><a href="#replace_search__replace_">replace(search, replace)</a></li>
	<li><a href="#redirect_file__options_">redirect(file, options)</a></li>
	<li><a href="#eval___evaltt">eval / evaltt</a></li>
	<li><a href="#perl___evalperl">perl / evalperl</a></li>
	<li><a href="#stdout_options_">stdout(options)</a></li>
	<li><a href="#stderr">stderr</a></li>
	<li><a href="#null">null</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>Template::Manual::Filters - Standard filters</p>
<p>
</p>
<hr />
<h1><a name="format_format_">format(format)</a></h1>
<p>The <a href="../../../../lib/pods/perlfunc.html#format"><code>format</code></a> filter takes a format string as a parameter (as per
<a href="../../../../lib/pods/perlfunc.html#printf"><code>printf()</code></a>) and formats each line of text accordingly.</p>
<pre>
    [% FILTER format('&lt;!-- %-40s --&gt;') %]
    This is a block of text filtered 
    through the above format.
    [% END %]</pre>
<p>Output:</p>
<pre>
    &lt;!-- This is a block of text filtered        --&gt;
    &lt;!-- through the above format.               --&gt;</pre>
<p>
</p>
<hr />
<h1><a name="upper">upper</a></h1>
<p>Folds the input to UPPER CASE.</p>
<pre>
    [% &quot;hello world&quot; FILTER upper %]</pre>
<p>Output:</p>
<pre>
    HELLO WORLD</pre>
<p>
</p>
<hr />
<h1><a name="lower">lower</a></h1>
<p>Folds the input to lower case.</p>
<pre>
    [% &quot;Hello World&quot; FILTER lower %]</pre>
<p>Output:</p>
<pre>
    hello world</pre>
<p>
</p>
<hr />
<h1><a name="ucfirst">ucfirst</a></h1>
<p>Folds the first character of the input to UPPER CASE.</p>
<pre>
    [% &quot;hello&quot; FILTER ucfirst %]</pre>
<p>Output:</p>
<pre>
    Hello</pre>
<p>
</p>
<hr />
<h1><a name="lcfirst">lcfirst</a></h1>
<p>Folds the first character of the input to lower case.</p>
<pre>
    [% &quot;HELLO&quot; FILTER lcfirst %]</pre>
<p>Output:</p>
<pre>
    hELLO</pre>
<p>
</p>
<hr />
<h1><a name="trim">trim</a></h1>
<p>Trims any leading or trailing whitespace from the input text.  Particularly 
useful in conjunction with <code>INCLUDE</code>, <code>PROCESS</code>, etc., having the same effect
as the <code>TRIM</code> configuration option.</p>
<pre>
    [% INCLUDE myfile | trim %]</pre>
<p>
</p>
<hr />
<h1><a name="collapse">collapse</a></h1>
<p>Collapse any whitespace sequences in the input text into a single space.
Leading and trailing whitespace (which would be reduced to a single space)
is removed, as per trim.</p>
<pre>
    [% FILTER collapse %]
    
       The   cat
       
       sat    on
       
       the   mat
       
    [% END %]</pre>
<p>Output:</p>
<pre>
    The cat sat on the mat</pre>
<p>
</p>
<hr />
<h1><a name="html">html</a></h1>
<p>Converts the characters <code>&lt;</code>, <code>&gt;</code>, <code>&amp;</code> and <code>&quot;</code> to <code>&amp;lt;</code>,
<code>&amp;gt;</code>, <code>&amp;amp;</code>, and <code>&amp;quot;</code> respectively, protecting them from being
interpreted as representing HTML tags or entities.</p>
<pre>
    [% FILTER html %]
    Binary &quot;&lt;=&gt;&quot; returns -1, 0, or 1 depending on...
    [% END %]</pre>
<p>Output:</p>
<pre>
    <span class="variable">Binary</span> <span class="string">"&amp;lt;=&amp;gt;"</span> <span class="variable">returns</span> <span class="operator">-</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="keyword">or</span> <span class="number">1</span> <span class="variable">depending</span> <span class="variable">on</span><span class="operator">...</span>
</pre>
<p>
</p>
<hr />
<h1><a name="html_entity">html_entity</a></h1>
<p>The <code>html</code> filter is fast and simple but it doesn't encode the full
range of HTML entities that your text may contain.  The <code>html_entity</code>
filter uses either the <code>Apache::Util</code> module (which is written in C and
is therefore faster) or the <code>HTML::Entities</code> module (written in Perl but
equally as comprehensive) to perform the encoding.</p>
<p>If one or other of these modules are installed on your system then the text
will be encoded (via the <code>escape_html()</code> or <code>encode_entities()</code> subroutines
respectively) to convert all extended characters into their appropriate HTML
entities (e.g. converting '<code>é</code>' to '<code>&amp;eacute;</code>'). If neither module is
available on your system then an '<code>html_entity</code>' exception will be thrown
reporting an appropriate message.</p>
<p>If you want to force TT to use one of the above modules in preference to 
the other, then call either of the <a href="../../../..//Develop/Perl/Template-Toolkit-2.24/blib/html/site/lib/Template/Filters.html">the Template::Filters manpage</a> class methods:
<a href="../../../..//Develop/Perl/Template-Toolkit-2.24/blib/html/site/lib/Template/Filters.html#use_html_entities__">use_html_entities()</a> or
<a href="../../../..//Develop/Perl/Template-Toolkit-2.24/blib/html/site/lib/Template/Filters.html#use_apache_util__">use_apache_util()</a>.</p>
<pre>
    <span class="keyword">use</span> <span class="variable">Template::Filters</span><span class="operator">;</span>
    <span class="variable">Template::Filters</span><span class="operator">-&gt;</span><span class="variable">use_html_entities</span><span class="operator">;</span>
</pre>
<p>For further information on HTML entity encoding, see
<a href="http://www.w3.org/TR/REC-html40/sgml/entities.html">http://www.w3.org/TR/REC-html40/sgml/entities.html</a>.</p>
<p>
</p>
<hr />
<h1><a name="xml">xml</a></h1>
<p>Same as the <code>html</code> filter, but adds <code>&amp;apos;</code> which is the fifth XML
built-in entity.</p>
<p>
</p>
<hr />
<h1><a name="html_para">html_para</a></h1>
<p>This filter formats a block of text into HTML paragraphs.  A sequence of 
two or more newlines is used as the delimiter for paragraphs which are 
then wrapped in HTML <a href="../../../../lib/pods/perlrun.html#p"><code>&lt;p&gt;</code></a>...<a href="../../../../lib/pods/perlrun.html#p"><code>&lt;/p&gt;</code></a> tags.</p>
<pre>
    [% FILTER html_para %]
    The cat sat on the mat.
    
    Mary had a little lamb.
    [% END %]</pre>
<p>Output:</p>
<pre>
    &lt;p&gt;
    The cat sat on the mat.
    &lt;/p&gt;
    
    &lt;p&gt;
    Mary had a little lamb.
    &lt;/p&gt;</pre>
<p>
</p>
<hr />
<h1><a name="html_break___html_para_break">html_break / html_para_break</a></h1>
<p>Similar to the html_para filter described above, but uses the HTML tag
sequence <code>&lt;br&gt;&lt;br&gt;</code> to join paragraphs.</p>
<pre>
    [% FILTER html_break %]
    The cat sat on the mat.
    
    Mary had a little lamb.
    [% END %]</pre>
<p>Output:</p>
<pre>
    The cat sat on the mat.
    &lt;br&gt;
    &lt;br&gt;
    Mary had a little lamb.</pre>
<p>
</p>
<hr />
<h1><a name="html_line_break">html_line_break</a></h1>
<p>This filter replaces any newlines with <code>&lt;br&gt;</code> HTML tags,
thus preserving the line breaks of the original text in the 
HTML output.</p>
<pre>
    [% FILTER html_line_break %]
    The cat sat on the mat.
    Mary had a little lamb.
    [% END %]</pre>
<p>Output:</p>
<pre>
    The cat sat on the mat.&lt;br&gt;
    Mary had a little lamb.&lt;br&gt;</pre>
<p>
</p>
<hr />
<h1><a name="uri">uri</a></h1>
<p>This filter URI escapes the input text, converting any characters 
outside of the permitted URI character set (as defined by <a href="http://www.ietf.org/rfc/rfc2396.txt" class="rfc">RFC 2396</a>)
into a <code>%nn</code> hex escape.</p>
<pre>
    [% 'my file.html' | uri %]</pre>
<p>Output:</p>
<pre>
    my%20file.html</pre>
<p>The uri filter correctly encodes all reserved characters, including
<code>&amp;</code>, <code>@</code>, <code>/</code>, <code>;</code>, <code>:</code>, <code>=</code>, <code>+</code>, <code>?</code> and <code>$</code>.  This filter
is typically used to encode parameters in a URL that could otherwise
be interpreted as part of the URL.  Here's an example:</p>
<pre>
    [% path  = '<a href="http://tt2.org/example">http://tt2.org/example</a>'
       back  = '/other?foo=bar&amp;baz=bam' 
       title = 'Earth: &quot;Mostly Harmless&quot;'
    %]
    &lt;a href=&quot;[% path %]?back=[% back | uri %]&amp;title=[% title | uri %]&quot;&gt;</pre>
<p>The output generated is rather long so we'll show it split across two
lines:</p>
<pre>
    &lt;a href=&quot;<a href="http://tt2.org/example?back=%2Fother%3Ffoo%3Dbar%26">http://tt2.org/example?back=%2Fother%3Ffoo%3Dbar%26</a>
    baz%3Dbam&amp;title=Earth%3A%20%22Mostly%20Harmless%22&quot;&gt;</pre>
<p>Without the uri filter the output would look like this (also split across
two lines).</p>
<pre>
    &lt;a href=&quot;<a href="http://tt2.org/example?back=/other?foo=bar">http://tt2.org/example?back=/other?foo=bar</a>
    &amp;baz=bam&amp;title=Earth: &quot;Mostly Harmless&quot;&quot;&gt;</pre>
<p>In this rather contrived example we've manage to generate both a broken URL
(the repeated <code>?</code> is not allowed) and a broken HTML element (the href
attribute is terminated by the first <code>&quot;</code> after <code>Earth: </code> leaving <code>Mostly
Harmless&quot;</code> dangling on the end of the tag in precisely the way that harmless
things shouldn't dangle). So don't do that. Always use the uri filter to
encode your URL parameters.</p>
<p>However, you should <strong>not</strong> use the uri filter to encode an entire URL.</p>
<pre>
   &lt;a href=&quot;[% page_url | uri %]&quot;&gt;   # WRONG!</pre>
<p>This will incorrectly encode any reserved characters like <code>:</code> and <code>/</code>
and that's almost certainly not what you want in this case.  Instead
you should use the <strong>url</strong> (note spelling) filter for this purpose.</p>
<pre>
   &lt;a href=&quot;[% page_url | url %]&quot;&gt;   # CORRECT</pre>
<p>Please note that this behaviour was changed in version 2.16 of the 
Template Toolkit.  Prior to that, the uri filter did not encode the
reserved characters, making it technically incorrect according to the
<a href="http://www.ietf.org/rfc/rfc2396.txt" class="rfc">RFC 2396</a> specification.  So we fixed it in 2.16 and provided the url
filter to implement the old behaviour of not encoding reserved 
characters.</p>
<p>
</p>
<hr />
<h1><a name="url">url</a></h1>
<p>The url filter is a less aggressive version of the uri filter.  It encodes
any characters outside of the permitted URI character set (as defined by <a href="http://www.ietf.org/rfc/rfc2396.txt" class="rfc">RFC 2396</a>)
into <code>%nn</code> hex escapes.  However, unlike the uri filter, the url filter does 
<strong>not</strong> encode the reserved characters <code>&amp;</code>, <code>@</code>, <code>/</code>, <code>;</code>, <code>:</code>, <code>=</code>, <code>+</code>, 
<code>?</code> and <code>$</code>.</p>
<p>
</p>
<hr />
<h1><a name="indent_pad_">indent(pad)</a></h1>
<p>Indents the text block by a fixed pad string or width.  The '<code>pad</code>' argument
can be specified as a string, or as a numerical value to indicate a pad
width (spaces).  Defaults to 4 spaces if unspecified.</p>
<pre>
    [% FILTER indent('ME&gt; ') %]
    blah blah blah
    cabbages, rhubard, onions 
    [% END %]</pre>
<p>Output:</p>
<pre>
    ME&gt; blah blah blah
    ME&gt; cabbages, rhubard, onions</pre>
<p>
</p>
<hr />
<h1><a name="truncate_length_dots_">truncate(length,dots)</a></h1>
<p>Truncates the text block to the length specified, or a default length
of 32.  Truncated text will be terminated with '<code>...</code>' (i.e. the '<code>...</code>'
falls inside the required length, rather than appending to it).</p>
<pre>
    [% FILTER truncate(21) %]
    I have much to say on this matter that has previously 
    been said on more than one occasion.
    [% END %]</pre>
<p>Output:</p>
<pre>
    I have much to say...</pre>
<p>If you want to use something other than '<code>...</code>' you can pass that as a 
second argument.</p>
<pre>
    <span class="operator">[</span><span class="operator">% </span><span class="variable">FILTER</span> <span class="keyword">truncate</span><span class="operator">(</span><span class="number">26</span><span class="operator">,</span> <span class="string">'&amp;hellip;'</span><span class="operator">)</span> <span class="variable">%]</span>
    <span class="variable">I</span> <span class="variable">have</span> <span class="variable">much</span> <span class="variable">to</span> <span class="keyword">say</span> <span class="variable">on</span> <span class="variable">this</span> <span class="variable">matter</span> <span class="variable">that</span> <span class="variable">has</span> <span class="variable">previously</span> 
    <span class="variable">been</span> <span class="variable">said</span> <span class="variable">on</span> <span class="variable">more</span> <span class="variable">than</span> <span class="variable">one</span> <span class="variable">occasion</span><span class="operator">.</span>
    <span class="operator">[</span><span class="operator">% </span><span class="keyword">END</span> <span class="variable">%]</span>
</pre>
<p>Output:</p>
<pre>
    <span class="variable">I</span> <span class="variable">have</span> <span class="variable">much</span> <span class="variable">to</span> <span class="keyword">say</span><span class="operator">&amp;</span><span class="variable">hellip</span><span class="operator">;</span>
</pre>
<p>
</p>
<hr />
<h1><a name="repeat_iterations_">repeat(iterations)</a></h1>
<p>Repeats the text block for as many iterations as are specified (default: 1).</p>
<pre>
    [% FILTER repeat(3) %]
    We want more beer and we want more beer,
    [% END %]
    We are the more beer wanters!</pre>
<p>Output:</p>
<pre>
    We want more beer and we want more beer,
    We want more beer and we want more beer,
    We want more beer and we want more beer,
    We are the more beer wanters!</pre>
<p>
</p>
<hr />
<h1><a name="remove_string_">remove(string)</a></h1>
<p>Searches the input text for any occurrences of the specified string and 
removes them.  A Perl regular expression may be specified as the search 
string.</p>
<pre>
    [% &quot;The  cat  sat  on  the  mat&quot; FILTER remove('\s+') %]</pre>
<p>Output:</p>
<pre>
    Thecatsatonthemat</pre>
<p>
</p>
<hr />
<h1><a name="replace_search__replace_">replace(search, replace)</a></h1>
<p>Similar to the remove filter described above, but taking a second parameter
which is used as a replacement string for instances of the search string.</p>
<pre>
    [% &quot;The  cat  sat  on  the  mat&quot; | replace('\s+', '_') %]</pre>
<p>Output:</p>
<pre>
    The_cat_sat_on_the_mat</pre>
<p>
</p>
<hr />
<h1><a name="redirect_file__options_">redirect(file, options)</a></h1>
<p>The <code>redirect</code> filter redirects the output of the block into a separate
file, specified relative to the <code>OUTPUT_PATH</code> configuration item.</p>
<pre>
    <span class="operator">[</span><span class="operator">% </span><span class="variable">FOREACH</span> <span class="variable">user</span> <span class="variable">IN</span> <span class="variable">myorg</span><span class="operator">.</span><span class="variable">userlist</span> <span class="variable">%]</span>
       <span class="operator">[</span><span class="operator">% </span><span class="variable">FILTER</span> <span class="variable">redirect</span><span class="operator">(</span><span class="string">"users/${user.id}.html"</span><span class="operator">)</span> <span class="variable">%]</span>
          <span class="operator">[</span><span class="operator">% </span><span class="variable">INCLUDE</span> <span class="variable">userinfo</span> <span class="variable">%]</span>
       <span class="operator">[</span><span class="operator">% </span><span class="keyword">END</span> <span class="variable">%]</span>
    <span class="operator">[</span><span class="operator">% </span><span class="keyword">END</span> <span class="variable">%]</span>
</pre>
<p>or more succinctly, using side-effect notation:</p>
<pre>
    <span class="operator">[</span><span class="operator">% </span> <span class="variable">FOREACH</span> <span class="variable">user</span> <span class="variable">IN</span> <span class="variable">myorg</span><span class="operator">.</span><span class="variable">userlist</span><span class="operator">;</span>
          <span class="variable">INCLUDE</span> <span class="variable">userinfo</span> 
            <span class="variable">FILTER</span> <span class="variable">redirect</span><span class="operator">(</span><span class="string">"users/${user.id}.html"</span><span class="operator">);</span>
        <span class="keyword">END</span>
    <span class="variable">%]</span>
</pre>
<p>A <code>file</code> exception will be thrown if the <code>OUTPUT_PATH</code> option is undefined.</p>
<p>An optional <a href="../../../../lib/pods/perlfunc.html#binmode"><code>binmode</code></a> argument can follow the filename to explicitly set
the output file to binary mode.</p>
<pre>
    [% PROCESS my/png/generator 
         FILTER redirect(&quot;images/logo.png&quot;, binmode=1) %]</pre>
<p>For backwards compatibility with earlier versions, a single true/false
value can be used to set binary mode.</p>
<pre>
    [% PROCESS my/png/generator 
         FILTER redirect(&quot;images/logo.png&quot;, 1) %]</pre>
<p>For the sake of future compatibility and clarity, if nothing else, we
would strongly recommend you explicitly use the named <a href="../../../../lib/pods/perlfunc.html#binmode"><code>binmode</code></a> option
as shown in the first example.</p>
<p>
</p>
<hr />
<h1><a name="eval___evaltt">eval / evaltt</a></h1>
<p>The <a href="../../../../lib/pods/perlfunc.html#eval"><code>eval</code></a> filter evaluates the block as template text, processing
any directives embedded within it.  This allows template variables to
contain template fragments, or for some method to be provided for
returning template fragments from an external source such as a
database, which can then be processed in the template as required.</p>
<pre>
    <span class="keyword">my</span> <span class="variable">$vars</span>  <span class="operator">=</span> <span class="operator">{</span>
        <span class="string">fragment</span> <span class="operator">=&gt;</span> <span class="string">"The cat sat on the [% place %]"</span><span class="operator">,</span>
    <span class="operator">}</span><span class="operator">;</span>
    <span class="variable">$template</span><span class="operator">-&gt;</span><span class="variable">process</span><span class="operator">(</span><span class="variable">$file</span><span class="operator">,</span> <span class="variable">$vars</span><span class="operator">);</span>
</pre>
<p>The following example:</p>
<pre>
    [% fragment | eval %]</pre>
<p>is therefore equivalent to</p>
<pre>
    The cat sat on the [% place %]</pre>
<p>The <code>evaltt</code> filter is provided as an alias for <a href="../../../../lib/pods/perlfunc.html#eval"><code>eval</code></a>.</p>
<p>
</p>
<hr />
<h1><a name="perl___evalperl">perl / evalperl</a></h1>
<p>The <code>perl</code> filter evaluates the block as Perl code.  The <code>EVAL_PERL</code>
option must be set to a true value or a <code>perl</code> exception will be
thrown.</p>
<pre>
    [% my_perl_code | perl %]</pre>
<p>In most cases, the <code>[% PERL %]</code> ... <code>[% END %]</code> block should suffice for 
evaluating Perl code, given that template directives are processed 
before being evaluate as Perl.  Thus, the previous example could have
been written in the more verbose form:</p>
<pre>
    [% PERL %]
    [% my_perl_code %]
    [% END %]</pre>
<p>as well as</p>
<pre>
    [% FILTER perl %]
    [% my_perl_code %]
    [% END %]</pre>
<p>The <code>evalperl</code> filter is provided as an alias for <code>perl</code> for backwards
compatibility.</p>
<p>
</p>
<hr />
<h1><a name="stdout_options_">stdout(options)</a></h1>
<p>The stdout filter prints the output generated by the enclosing block to
<code>STDOUT</code>.  The <a href="../../../../lib/pods/perlfunc.html#binmode"><code>binmode</code></a> option can be passed as either a named parameter
or a single argument to set <code>STDOUT</code> to binary mode (see the
binmode perl function).</p>
<pre>
    [% PROCESS something/cool
           FILTER stdout(binmode=1) # recommended %]
    
    [% PROCESS something/cool
           FILTER stdout(1)         # alternate %]</pre>
<p>The <code>stdout</code> filter can be used to force <a href="../../../../lib/pods/perlfunc.html#binmode"><code>binmode</code></a> on <code>STDOUT</code>, or also
inside <code>redirect</code>, <code>null</code> or <code>stderr</code> blocks to make sure that particular
output goes to <code>STDOUT</code>. See the <code>null</code> filter below for an example.</p>
<p>
</p>
<hr />
<h1><a name="stderr">stderr</a></h1>
<p>The stderr filter prints the output generated by the enclosing block to
<code>STDERR</code>.</p>
<p>
</p>
<hr />
<h1><a name="null">null</a></h1>
<p>The <code>null</code> filter prints nothing.  This is useful for plugins whose
methods return values that you don't want to appear in the output.
Rather than assigning every plugin method call to a dummy variable
to silence it, you can wrap the block in a null filter:</p>
<pre>
    <span class="operator">[</span><span class="operator">% </span><span class="variable">FILTER</span> <span class="variable">null</span><span class="operator">;</span>
        <span class="variable">USE</span> <span class="variable">im</span> <span class="operator">=</span> <span class="variable">GD</span><span class="operator">.</span><span class="variable">Image</span><span class="operator">(</span><span class="number">100</span><span class="operator">,</span><span class="number">100</span><span class="operator">);</span>
        <span class="variable">black</span> <span class="operator">=</span> <span class="variable">im</span><span class="operator">.</span><span class="variable">colorAllocate</span><span class="operator">(</span><span class="number">0</span><span class="operator">,</span>   <span class="number">0</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>
        <span class="variable">red</span>   <span class="operator">=</span> <span class="variable">im</span><span class="operator">.</span><span class="variable">colorAllocate</span><span class="operator">(</span><span class="number">255</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span>  <span class="number">0</span><span class="operator">);</span>
        <span class="variable">blue</span>  <span class="operator">=</span> <span class="variable">im</span><span class="operator">.</span><span class="variable">colorAllocate</span><span class="operator">(</span><span class="number">0</span><span class="operator">,</span>  <span class="number">0</span><span class="operator">,</span>  <span class="number">255</span><span class="operator">);</span>
        <span class="variable">im</span><span class="operator">.</span><span class="variable">arc</span><span class="operator">(</span><span class="number">50</span><span class="operator">,</span><span class="number">50</span><span class="operator">,</span><span class="number">95</span><span class="operator">,</span><span class="number">75</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">360</span><span class="operator">,</span><span class="variable">blue</span><span class="operator">);</span>
        <span class="variable">im</span><span class="operator">.</span><span class="variable">fill</span><span class="operator">(</span><span class="number">50</span><span class="operator">,</span><span class="number">50</span><span class="operator">,</span><span class="variable">red</span><span class="operator">);</span>
        <span class="variable">im</span><span class="operator">.</span><span class="variable">png</span> <span class="operator">|</span> <span class="variable">stdout</span><span class="operator">(</span><span class="number">1</span><span class="operator">);</span>
       <span class="keyword">END</span><span class="operator">;</span>
    <span class="operator">-</span><span class="variable">%]</span>
</pre>
<p>Notice the use of the <code>stdout</code> filter to ensure that a particular expression
generates output to <code>STDOUT</code> (in this case in binary mode).</p>

</body>

</html>
